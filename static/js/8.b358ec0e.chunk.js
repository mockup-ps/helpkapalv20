(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[8],{635:function(e,t,n){"use strict";var c=n(658),a=Object(c.a)("https://ctvjpxocqeajngziaxji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMzE4Mjc3OSwiZXhwIjoxOTM4NzU4Nzc5fQ.pCQD8_U0cgWJtgLbOh90kUGpxpOmpwzDmsfwKzj7PwE");t.a=a},655:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c,a=n(1),r=["title","titleId"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){var n=e.title,l=e.titleId,d=i(e,r);return a.createElement("svg",s({id:"Capa_1",enableBackground:"new 0 0 511.996 511.996",height:80,viewBox:"0 0 511.996 511.996",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},d),n?a.createElement("title",{id:l},n):null,c||(c=a.createElement("g",null,a.createElement("path",{d:"m473.104 112.473v358.908c0 22.43-18.186 40.616-40.616 40.616h-352.98c-22.43 0-40.616-18.186-40.616-40.616v-430.762c0-22.43 18.186-40.616 40.616-40.616h281.127z",fill:"#f8f6f9"}),a.createElement("path",{d:"m473.104 112.473h-71.854c-22.43 0-40.616-18.186-40.616-40.616v-71.853",fill:"#dddaec"}),a.createElement("g",null,a.createElement("path",{d:"m373.134 175.972c5.167-10.413.912-23.033-9.501-28.2l-32.583-16.139c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09-31.399-52.513c-5.966-9.981-18.875-13.228-28.856-7.262l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.875 10.237l43.859-1.728c7.694-.304 14.604-4.783 18.011-11.677z",fill:"#95d6a4"}),a.createElement("g",{fill:"#78c2a4"},a.createElement("path",{d:"m251.489 293.16 75.349-152.026c1.68-3.387 4.157-6.108 7.082-8.08l-2.87-1.422c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09z"}),a.createElement("path",{d:"m225.507 362.446-61.87-103.49c-5.966-9.981-2.703-22.889 7.262-28.856l29.954-17.902c-6.571-4.529-15.432-5.114-22.735-.749l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.874 10.237l17.774-.7c-5.219-1.391-9.803-4.76-12.66-9.537z"}))),a.createElement("path",{d:"m103.484 511.993h-23.972c-22.427 0-40.62-18.182-40.62-40.619v-430.755c0-22.437 18.193-40.619 40.62-40.619h23.972c-22.437 0-40.62 18.182-40.62 40.619v430.754c0 22.437 18.183 40.62 40.62 40.62z",fill:"#dddaec"}))))}var d=a.forwardRef(l);n.p},664:function(e,t){},715:function(e,t){},716:function(e,t){},717:function(e,t){},718:function(e,t){},719:function(e,t){},748:function(e,t,n){"use strict";n.r(t);var c,a=n(634),r=n.n(a),s=n(636),i=n(630),l=n(1),d=n(628),j=n(655),o=["title","titleId"];function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e,t){var n=e.title,a=e.titleId,r=u(e,o);return l.createElement("svg",b({id:"Capa_1",enableBackground:"new 0 0 512 512",height:80,viewBox:"0 0 512 512",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?l.createElement("title",{id:a},n):null,c||(c=l.createElement("g",null,l.createElement("g",null,l.createElement("path",{d:"m451.891 125.53v341.137c0 25.035-20.298 45.333-45.333 45.333h-355.769c-25.035 0-45.333-20.298-45.333-45.333v-421.334c.001-25.035 20.298-45.333 45.333-45.333h275.571z",fill:"#f8f6f9"}),l.createElement("path",{d:"m451.891 125.53h-80.198c-25.035 0-45.332-20.298-45.332-45.333v-80.197",fill:"#dddaec"})),l.createElement("g",null,l.createElement("path",{d:"m493.06 311.109 11.739-23.694c4.099-8.262.723-18.275-7.539-22.374l-25.852-12.805c-8.262-4.099-18.275-.723-22.374 7.539l-51.158 103.217-24.913-41.665c-4.734-7.919-14.976-10.496-22.895-5.762l-24.76 14.798c-7.907 4.734-10.496 14.976-5.762 22.895l49.089 82.112c3.135 5.241 8.884 8.363 14.976 8.122l34.799-1.371c6.104-.241 11.587-3.795 14.29-9.265l43.442-87.632z",fill:"#95d6a4"}),l.createElement("g",{fill:"#78c2a4"},l.createElement("path",{d:"m410.887 384.75 61.943-124.977c.962-1.939 2.259-3.598 3.774-4.965l-5.195-2.573c-8.262-4.099-18.275-.723-22.374 7.539l-51.158 103.217z"}),l.createElement("path",{d:"m392.432 435.368-49.089-82.112c-4.734-7.919-2.145-18.161 5.762-22.895l21.022-12.564c-5.295-5.039-13.473-6.17-20.057-2.234l-24.76 14.798c-7.906 4.734-10.496 14.976-5.762 22.895l49.089 82.112c3.135 5.241 8.884 8.363 14.976 8.122l18.261-.719c-3.892-1.194-7.286-3.797-9.442-7.403z"}))),l.createElement("g",{fill:"#407093"},l.createElement("path",{d:"m388.121 233.593h-318.893c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h318.893c4.267 0 7.726 3.459 7.726 7.726s-3.459 7.726-7.726 7.726z"}),l.createElement("path",{d:"m388.122 179.202h-264.477c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h264.477c4.267 0 7.726 3.459 7.726 7.726s-3.458 7.726-7.726 7.726z"}),l.createElement("path",{d:"m275.64 65.92h-93.933c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h93.933c4.267 0 7.726 3.459 7.726 7.726s-3.459 7.726-7.726 7.726z"}),l.createElement("path",{d:"m388.122 287.611h-318.896c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h318.897c4.267 0 7.726 3.459 7.726 7.726s-3.459 7.726-7.727 7.726z"}),l.createElement("path",{d:"m202.738 341.625h-133.512c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h133.512c4.267 0 7.726 3.459 7.726 7.726.001 4.266-3.459 7.726-7.726 7.726z"}),l.createElement("path",{d:"m298.96 395.634h-229.734c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h229.734c4.267 0 7.726 3.459 7.726 7.726 0 4.266-3.459 7.726-7.726 7.726z"}),l.createElement("path",{d:"m118.832 464.178h-49.606c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h49.606c4.267 0 7.726 3.459 7.726 7.726.001 4.267-3.459 7.726-7.726 7.726z"})))))}var O,m=l.forwardRef(h),f=(n.p,["title","titleId"]);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=e.title,c=e.titleId,a=p(e,f);return l.createElement("svg",x({id:"Capa_1",enableBackground:"new 0 0 511.99 511.99",height:80,viewBox:"0 0 511.99 511.99",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?l.createElement("title",{id:c},n):null,O||(O=l.createElement("g",null,l.createElement("path",{d:"m400.164 41.206h-288.338c-40.485 0-73.305 32.82-73.305 73.305v324.173c0 40.485 32.82 73.305 73.305 73.305h288.338c40.485 0 73.305-32.82 73.305-73.305v-324.172c0-40.486-32.82-73.306-73.305-73.306z",fill:"#d8aa8b"}),l.createElement("path",{d:"m144.937 511.99h-33.11c-40.485 0-73.306-32.821-73.306-73.306v-324.171c0-40.485 32.821-73.306 73.306-73.306h33.11c-40.485 0-73.306 32.821-73.306 73.306v324.171c0 40.486 32.821 73.306 73.306 73.306z",fill:"#ce9875"}),l.createElement("path",{d:"m359.082 108.08h-237.106c-22.428 0-40.61 18.182-40.61 40.61v279.93c0 22.428 18.182 40.61 40.61 40.61h237.105c22.428 0 40.61-18.182 40.61-40.61v-279.93c.001-22.428-18.181-40.61-40.609-40.61z",fill:"#ce9875"}),l.createElement("path",{d:"m374.082 108.08h-237.106c-22.428 0-40.61 18.182-40.61 40.61v279.93c0 22.428 18.182 40.61 40.61 40.61h237.105c22.428 0 40.61-18.182 40.61-40.61v-279.93c.001-22.428-18.181-40.61-40.609-40.61z",fill:"#f8f6f9"}),l.createElement("path",{d:"m294.38 141.762h-76.769c-16.336 0-29.626-13.29-29.626-29.627v-52.413c0-4.267 3.459-7.726 7.726-7.726 4.268 0 7.726 3.459 7.726 7.726v52.414c0 7.816 6.358 14.174 14.174 14.174h76.769c7.816 0 14.174-6.359 14.174-14.174v-52.414c0-4.267 3.459-7.726 7.726-7.726s7.726 3.459 7.726 7.726v52.414c0 16.336-13.291 29.626-29.626 29.626z",fill:"#365e7d"}),l.createElement("g",null,l.createElement("path",{d:"m234.758 180.214c2.24-4.515.395-9.987-4.119-12.227l-14.127-6.998c-4.515-2.24-9.987-.395-12.227 4.119l-27.956 56.404-13.614-22.768c-2.587-4.328-8.183-5.735-12.511-3.149l-13.531 8.086c-4.321 2.587-5.735 8.183-3.149 12.511l26.825 44.87c1.713 2.864 4.855 4.57 8.183 4.439l19.016-.749c3.336-.132 6.332-2.074 7.809-5.063z",fill:"#95d6a4"})),l.createElement("g",null,l.createElement("path",{d:"m207.801 359.28 20.362-20.362c3.436-3.436 3.436-9.006 0-12.442l-11.388-11.388c-3.436-3.436-9.006-3.436-12.442 0l-20.362 20.362-20.362-20.362c-3.436-3.436-9.006-3.436-12.442 0l-11.388 11.388c-3.436 3.436-3.436 9.006 0 12.442l20.362 20.362-20.362 20.362c-3.436 3.436-3.436 9.006 0 12.442l11.388 11.388c3.436 3.436 9.006 3.436 12.442 0l20.362-20.362 20.362 20.362c3.436 3.436 9.006 3.436 12.442 0l11.388-11.388c3.436-3.436 3.436-9.006 0-12.442z",fill:"#dd636e"})),l.createElement("g",{fill:"#365e7d"},l.createElement("path",{d:"m376.099 220.499h-114.199c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h114.198c4.268 0 7.726 3.459 7.726 7.726.001 4.267-3.458 7.726-7.725 7.726z"}),l.createElement("path",{d:"m342.77 251.733h-80.87c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h80.87c4.268 0 7.726 3.459 7.726 7.726s-3.458 7.726-7.726 7.726z"})),l.createElement("g",{fill:"#365e7d"},l.createElement("path",{d:"m376.099 351.389h-114.199c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h114.198c4.268 0 7.726 3.459 7.726 7.726.001 4.267-3.458 7.726-7.725 7.726z"}),l.createElement("path",{d:"m342.77 382.623h-80.87c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h80.87c4.268 0 7.726 3.459 7.726 7.726s-3.458 7.726-7.726 7.726z"})),l.createElement("path",{d:"m323.079 82.042h-134.167c-22.655 0-41.021-18.366-41.021-41.021 0-22.655 18.365-41.021 41.021-41.021h134.167c22.655 0 41.021 18.366 41.021 41.021 0 22.655-18.366 41.021-41.021 41.021z",fill:"#bed8fb"}),l.createElement("path",{d:"m243.417 82.042h-54.506c-22.653 0-41.021-18.368-41.021-41.021 0-11.332 4.594-21.582 12.012-29.01 7.428-7.417 17.678-12.011 29.009-12.011h54.506c-11.321 0-21.582 4.594-29.01 12.012-7.417 7.428-12.012 17.678-12.012 29.01.001 22.652 18.369 41.02 41.022 41.02z",fill:"#9dc6fb"}))))}var g=l.forwardRef(v),k=(n.p,n(635)),y=n(162),w=n(19),N=n(20),C=function(e){var t=Object(y.c)((function(e){return e.trigger})),n=Object(y.b)(),c=Object(w.g)(),a=function(){var t=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_detensi").update({kd_status:2}).eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,n.data,n.error||function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("th_detensi").insert([{id_detensi:e.datadetensi.id_detensi,kd_status:2}]);case 2:n=t.sent,n.data,n.error||c.push("/hdpsc");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var c=Object(s.a)(r.a.mark((function c(a,s){var i,l,d,j,o,b;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i=a.target.files[0],l=a.target.files[0].name,d=s,c.next=5,k.a.storage.from("dokumen").upload(l,i);case 5:if(j=c.sent,o=j.data,!j.error){c.next=12;break}alert("Error"),c.next=18;break;case 12:return b="https://ctvjpxocqeajngziaxji.supabase.co/storage/v1/object/public/"+o.Key,console.log(b),c.next=16,k.a.from("td_dokumen").insert([{id_detensi:e.datadetensi.id_detensi,kd_dokumen:d,url_dokumen:b}]);case 16:c.sent.error||(alert("Sukses"),n({type:"set",trigger:t+1}));case 18:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}();return Object(N.jsxs)(d.tb,{children:[Object(N.jsxs)(d.u,{md:"6",children:[Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:Object(N.jsx)("b",{children:"Nama Kapal"})}),Object(N.jsx)(d.P,{disabled:!0,value:e.datadetensi.namakapal,name:"namakapal"})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:Object(N.jsx)("b",{children:"Nomor IMO Kapal"})}),Object(N.jsx)(d.P,{disabled:!0,value:e.datadetensi.imokapal,name:"imokapal"})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:Object(N.jsx)("b",{children:"Tanggal Detensi"})}),Object(N.jsx)(d.P,{disabled:!0,value:e.datadetensi.tgldetensi,name:"tgldetensi",type:"date"})]})})})]}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)("div",{style:{height:"100%"},className:"d-flex flex-column",children:[Object(N.jsx)("div",{style:{width:"100%"},children:Object(N.jsx)(d.y,{addTableClasses:"josss mt-4",items:[{no:1,namadok:"Form A",kddok:"forma"},{no:2,namadok:"Form B",kddok:"formb"}],fields:[{key:"no",label:"Nomor"},{key:"namadok",label:"Nama Dokumen"},{key:"action",label:"Action"}],scopedSlots:{action:function(t,n){var c=t.kddok;if(0!==e.datadokumen.filter((function(e){return e.kd_dokumen==t.kddok})).length){var a=e.datadokumen.filter((function(e){return e.kd_dokumen==t.kddok}))[0].url_dokumen;return Object(N.jsx)("td",{children:Object(N.jsx)("a",{target:"_blank",href:a,role:"button",className:"btn btn-info btn-sm",children:"Download"})})}return Object(N.jsxs)("td",{children:[Object(N.jsx)("input",{onInput:function(e){return i(e,c)},type:"file",name:"upload",id:"file",class:"inputfile"}),Object(N.jsx)("label",{role:"button",className:"btn btn-info btn-sm ",for:"file",children:"Upload"})]})}}})}),1==e.datadetensi.kd_status?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"d-flex mt-auto mb-2 justify-content-end",children:[Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{onClick:function(){return a()},color:"success",children:"Simpan"})}),Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{color:"danger",children:"Batal"})})]})}):Object(N.jsx)(N.Fragment,{})]})})]})},_=n(667),E=n(43),S=function(e){var t=Object(l.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(y.b)(),o=Object(y.c)((function(e){return e.forma})),b=function(e){var t=Object(E.a)({},o);t[e.target.name]=e.target.value,j({type:"set",forma:t}),console.log(o)};return Object(l.useEffect)(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.from("tr_negara").select("*");case 2:t=e.sent,n=t.data,t.error,a(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)}))),[]),Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Otoritas PSC"}),Object(N.jsx)(d.ub,{name:"otoritaspsc",onChange:function(e){return b(e)},value:o.otoritaspsc,children:c.map((function(e){return Object(N.jsx)("option",{value:e.kd_negara,children:e.ur_negara})}))})]})})}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Nama Kapal"}),Object(N.jsx)(d.P,{disabled:!0,value:o.namakapal})]})}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Tipe Kapal"}),Object(N.jsxs)(d.ub,{onChange:function(e){return b(e)},name:"tipekapal",value:o.tipekapal,children:[Object(N.jsx)("option",{value:"1",children:"Gas Carrier"}),Object(N.jsx)("option",{value:"2",children:"Oil Tanker"}),Object(N.jsx)("option",{value:"3",children:"Bulk Carrier"}),Object(N.jsx)("option",{value:"4",children:"General Cargo/Multipurpose"})]})]})})]}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"4",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Call Sign"}),Object(N.jsx)(d.P,{onChange:function(e){return b(e)},name:"callsign",value:o.callsign})]})}),Object(N.jsx)(d.u,{md:"4",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Nomor MMSI"}),Object(N.jsx)(d.P,{onChange:function(e){return b(e)},name:"nommsi",value:o.nommsi})]})}),Object(N.jsx)(d.u,{md:"4",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Nomor IMO"}),Object(N.jsx)(d.P,{disabled:!0,value:o.imokapal})]})})]}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"4",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Gross Tonnage"}),Object(N.jsx)(d.P,{onChange:function(e){return b(e)},name:"grosstonage",value:o.grosstonage})]})}),Object(N.jsx)(d.u,{md:"4",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Dead Weight"}),Object(N.jsx)(d.P,{onChange:function(e){return b(e)},name:"deadweight",value:o.deadweight})]})}),Object(N.jsx)(d.u,{md:"4",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Tanggal Keel Laid"}),Object(N.jsx)(d.P,{onChange:function(e){return b(e)},name:"tglkeellaid",value:o.tglkeellaid,type:"date"})]})})]})]})},P=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.forma})),n=Object(l.useState)(!1),c=Object(i.a)(n,2),a=(c[0],c[1],function(n){var c=Object(E.a)({},t),a=n.target.name;"deficiencies"==a||"shipdetained"==a||"supportdocument"==a?(c[n.target.name]=n.target.checked,e({type:"set",forma:c}),console.log(t)):(c[n.target.name]=n.target.value,e({type:"set",forma:c}),console.log(t))});return Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Tanggal Inspeksi"}),Object(N.jsx)(d.P,{onChange:function(e){return a(e)},value:t.tglinspeksi,name:"tglinspeksi",type:"date"})]})}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Tempat Inspeksi"}),Object(N.jsx)(d.P,{onChange:function(e){return a(e)},value:t.tempatinspeksi,name:"tempatinspeksi"})]})})]}),Object(N.jsx)(d.tb,{}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Classification Society"}),Object(N.jsx)(d.ub,{onChange:function(e){return a(e)},value:t.classificationsociety,name:"classificationsociety",children:Object(N.jsx)("option",{value:"1",children:"LR"})})]})}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Date of Release from Detention"}),Object(N.jsx)(d.P,{onChange:function(e){return a(e)},value:t.dateofrelease,name:"dateofrelease",type:"date"})]})})]}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"4",children:Object(N.jsx)(d.Z,{children:"Deficiencies"})}),Object(N.jsx)(d.u,{md:"3",children:Object(N.jsxs)(d.K,{variant:"custom-checkbox",inline:!0,children:[Object(N.jsx)(d.Q,{onChange:function(e){return a(e)},checked:t.deficiencies,custom:!0,id:"deficiencies",name:"deficiencies"}),Object(N.jsx)(d.Z,{variant:"custom-checkbox",htmlFor:"deficiencies",children:"Yes"})]})})]}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"4",children:Object(N.jsx)(d.Z,{children:"Ship Detained"})}),Object(N.jsx)(d.u,{md:"3",children:Object(N.jsxs)(d.K,{variant:"custom-checkbox",inline:!0,children:[Object(N.jsx)(d.Q,{onChange:function(e){return a(e)},checked:t.shipdetained,custom:!0,id:"shipdetained",name:"shipdetained"}),Object(N.jsx)(d.Z,{variant:"custom-checkbox",htmlFor:"shipdetained",children:"Yes"})]})})]}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"4",children:Object(N.jsx)(d.Z,{children:"Supporting Documentation"})}),Object(N.jsx)(d.u,{md:"3",children:Object(N.jsxs)(d.K,{variant:"custom-checkbox",inline:!0,children:[Object(N.jsx)(d.Q,{onChange:function(e){return a(e)},checked:t.supportdocument,custom:!0,id:"supportdocument",name:"supportdocument"}),Object(N.jsx)(d.Z,{variant:"custom-checkbox",htmlFor:"supportdocument",children:"Yes"})]})})]})]})},K=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.forma})),n=function(n){var c=Object(E.a)({},t);c[n.target.name]=n.target.value,e({type:"set",forma:c})};return Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"IMO Company Number"}),Object(N.jsx)(d.P,{name:"imocompany",value:t.imocompany,onChange:function(e){return n(e)}})]})}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Particulars of Company"}),Object(N.jsx)(d.P,{name:"particulars",value:t.particulars,onChange:function(e){return n(e)}})]})})]}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Name of Master"}),Object(N.jsx)(d.P,{name:"nameofmaster",value:t.nameofmaster,onChange:function(e){return n(e)}})]})})})]})},I=n(167),Z=function(e){var t=Object(l.useState)({}),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(l.useState)(!0),o=Object(i.a)(j,2),b=o[0],u=o[1],h=Object(l.useState)([]),O=Object(i.a)(h,2),m=O[0],f=O[1],x=Object(l.useState)(!1),p=Object(i.a)(x,2),v=p[0],g=p[1],w=(Object(y.c)((function(e){return e.forma})),function(e){a(Object(E.a)(Object(E.a)({},c),{},Object(I.a)({},e.target.name,e.target.value)))}),C=["Load Line","SC","SE","SR","IOPP","IAPP"],_=function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_sertifikat").insert([{id_detensi:e.datadetensi.id_detensi,data:c}]);case 2:(n=t.sent).error?alert(n.error):(u(!b),g(!1));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_sertifikat").select("data").eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,c=n.data,n.error,a=c.map((function(e){return Object(E.a)(Object(E.a)({},e.data),{},Object(I.a)({},"titlesertifikat",C[e.data.titlesertifikat-1]))})),f(a),console.log(a);case 8:case"end":return t.stop()}}),t)}))),[b]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(d.db,{show:v,onClose:function(){return g(!1)},children:[Object(N.jsx)(d.gb,{children:Object(N.jsx)("h5",{children:"Tambah Sertifikat"})}),Object(N.jsxs)(d.eb,{children:[Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Title"}),Object(N.jsxs)(d.ub,{name:"titlesertifikat",value:c.titlesertifikat,onChange:function(e){return w(e)},children:[Object(N.jsx)("option",{value:"0",children:"-"}),Object(N.jsx)("option",{value:"1",children:"Load Line"}),Object(N.jsx)("option",{value:"2",children:"SC"}),Object(N.jsx)("option",{value:"3",children:"SE"}),Object(N.jsx)("option",{value:"4",children:"SR"}),Object(N.jsx)("option",{value:"5",children:"IOPP"}),Object(N.jsx)("option",{value:"6",children:"IAPP"})]})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Issuing Authority"}),Object(N.jsx)(d.P,{name:"issuingauthority",value:c.issuingauthority,onChange:function(e){return w(e)}})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Date of Issuance"}),Object(N.jsx)(d.P,{name:"dateofissuance",value:c.dateofissuance,onChange:function(e){return w(e)},type:"date"})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Date of Expiry"}),Object(N.jsx)(d.P,{name:"dateofexpiry",value:c.dateofexpiry,onChange:function(e){return w(e)},type:"date"})]})})})]}),Object(N.jsx)(d.fb,{children:Object(N.jsx)("div",{className:"d-flex justify-content-end",children:Object(N.jsx)(d.f,{onClick:function(){return _()},color:"success",children:"Simpan"})})})]}),Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsx)("div",{className:"d-flex justify-content-end mb-2",children:Object(N.jsx)(d.f,{onClick:function(){return g(!0)},className:"btn btn-sm btn-info",children:"Tambah"})}),Object(N.jsx)(d.y,{addTableClasses:"josss",items:m,fields:[{key:"no",label:"No"},{key:"titlesertifikat",label:"Title"},{key:"issuingauthority",label:"Issuing Authority"},{key:"dateofissuance",label:"Date of Issuance"},{key:"dateofexpiry",label:"Date of Expiry"},{key:"action",label:"Action"}],scopedSlots:{no:function(e,t){return Object(N.jsx)("td",{children:t+1})},action:function(e,t){return Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{className:"btn btn-sm btn-success",children:"Edit"})}),Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{className:"btn btn-sm btn-danger",children:"Hapus"})})]})})}}})]})]})},z=function(e){var t=Object(l.useState)({}),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(l.useState)([]),o=Object(i.a)(j,2),b=o[0],u=o[1],h=Object(l.useState)(!1),O=Object(i.a)(h,2),m=O[0],f=O[1],x=Object(l.useState)(!1),p=Object(i.a)(x,2),v=p[0],g=p[1],y=function(e){a(Object(E.a)(Object(E.a)({},c),{},Object(I.a)({},e.target.name,e.target.value)))},w=function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_survey").insert([{id_detensi:e.datadetensi.id_detensi,data:c}]);case 2:(n=t.sent).error?alert(n.error):(g(!v),f(!1));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_survey").select("data").eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,c=n.data,n.error,a=c.map((function(e){return Object(E.a)({},e.data)})),u(a),console.log(a);case 8:case"end":return t.stop()}}),t)}))),[v]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(d.db,{show:m,onClose:function(){return f(!1)},children:[Object(N.jsx)(d.gb,{children:Object(N.jsx)("h5",{children:"Tambah Data"})}),Object(N.jsxs)(d.eb,{children:[Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:Object(N.jsx)("i",{children:"Date"})}),Object(N.jsx)(d.P,{name:"dateannual",value:c.dateannual,onChange:function(e){return y(e)},type:"date"})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:Object(N.jsx)("i",{children:"Surveying Authority"})}),Object(N.jsx)(d.P,{name:"surveyingauthority",value:c.surveyingauthority,onChange:function(e){return y(e)}})]})})}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:Object(N.jsx)("i",{children:"Place"})}),Object(N.jsx)(d.P,{name:"place",value:c.place,onChange:function(e){return y(e)}})]})})})]}),Object(N.jsx)(d.fb,{children:Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsx)("div",{className:"mr-3",children:Object(N.jsx)(d.f,{onClick:function(){return w()},color:"success",children:"Simpan"})}),Object(N.jsx)("div",{className:"mr-3",children:Object(N.jsx)(d.f,{color:"danger",children:"Batal"})})]})})]}),Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsx)("div",{className:"d-flex justify-content-end mb-2",children:Object(N.jsx)(d.f,{onClick:function(){return f(!0)},className:"btn btn-sm btn-info",children:"Tambah"})}),Object(N.jsx)(d.y,{addTableClasses:"josss",items:b,fields:[{key:"no",label:"No"},{key:"dateannual",label:"Date"},{key:"surveyingauthority",label:"Surveying Authority"},{key:"place",label:"Place"},{key:"action",label:"Action"}],scopedSlots:{no:function(e,t){return Object(N.jsx)("td",{children:t+1})},action:function(e,t){return Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{className:"btn btn-sm btn-success",children:"Simpan"})}),Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{className:"btn btn-sm btn-danger",children:"Batal"})})]})})}}})]})]})},T=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.forma})),n=function(n){var c=Object(E.a)({},t);c[n.target.name]=n.target.value,e({type:"set",forma:c})};return Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Issuing Office"}),Object(N.jsx)(d.P,{name:"issuingoffice",value:t.issuingoffice,onChange:function(e){return n(e)}})]})})}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Telephone"}),Object(N.jsx)(d.P,{name:"telephone",value:t.telephone,onChange:function(e){return n(e)}})]})}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Telefax"}),Object(N.jsx)(d.P,{name:"telefax",value:t.telefax,onChange:function(e){return n(e)}})]})})]}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Nama PSOC"}),Object(N.jsx)(d.P,{name:"namapsoc",value:t.namapsoc,onChange:function(e){return n(e)}})]})})})]})};_.a.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_.a.version,"/pdf.worker.js");var D=function(e){Object(y.b)();var t=Object(y.c)((function(e){return e.forma})),n=Object(l.useState)(null),c=Object(i.a)(n,2),a=(c[0],c[1],Object(l.useState)(2)),j=Object(i.a)(a,2),o=(j[0],j[1],Object(l.useState)(20)),b=Object(i.a)(o,2),u=(b[0],b[1],Object(l.useState)()),h=Object(i.a)(u,2),O=h[0],m=h[1],f=Object(l.useState)([]),x=Object(i.a)(f,2);x[0],x[1];Object(l.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_dokumen").select("url_dokumen").eq("id_detensi",e.datadetensi.id_detensi).eq("kd_dokumen","forma");case 2:n=t.sent,c=n.data,n.error,m(c[0].url_dokumen);case 6:case"end":return t.stop()}}),t)}))),[]);var p=function(){var n=Object(s.a)(r.a.mark((function n(){var c,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.a.from("td_detensi").update({data:t}).eq("id_detensi",e.datadetensi.id_detensi);case 2:c=n.sent,c.data,(a=c.error)?alert(a):alert("Sukses");case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(d.tb,{style:{minHeight:"90vh"},children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)("embed",{src:O,type:"application/pdf",width:"100%",height:"100%"})})}),Object(N.jsxs)(d.u,{md:"6",children:[Object(N.jsxs)(d.Hb,{activeTab:"datakapal",children:[Object(N.jsxs)(d.ib,{variant:"tabs",children:[Object(N.jsx)(d.jb,{children:Object(N.jsx)(d.kb,{"data-tab":"datakapal",children:"Kapal"})}),Object(N.jsx)(d.jb,{children:Object(N.jsx)(d.kb,{"data-tab":"datainspeksi",children:"Inspeksi"})}),Object(N.jsx)(d.jb,{children:Object(N.jsx)(d.kb,{"data-tab":"dataperusahaan",children:"Perusahaan"})}),Object(N.jsx)(d.jb,{children:Object(N.jsx)(d.kb,{"data-tab":"sertifikat",children:"Sertifikat"})}),Object(N.jsx)(d.jb,{children:Object(N.jsx)(d.kb,{"data-tab":"annualsurvey",children:"Survey"})}),Object(N.jsx)(d.jb,{children:Object(N.jsx)(d.kb,{"data-tab":"penerbit",children:"Penerbit"})})]}),Object(N.jsxs)(d.Fb,{children:[Object(N.jsx)(d.Gb,{"data-tab":"datakapal",children:Object(N.jsx)(S,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(N.jsx)(d.Gb,{"data-tab":"datainspeksi",children:Object(N.jsx)(P,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(N.jsx)(d.Gb,{"data-tab":"dataperusahaan",children:Object(N.jsx)(K,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(N.jsx)(d.Gb,{"data-tab":"sertifikat",children:Object(N.jsx)(Z,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(N.jsx)(d.Gb,{"data-tab":"annualsurvey",children:Object(N.jsx)(z,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(N.jsx)(d.Gb,{"data-tab":"penerbit",children:Object(N.jsx)(T,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})})]})]}),Object(N.jsx)("div",{className:"d-flex justify-content-end",children:Object(N.jsx)("div",{className:"mr-3",children:Object(N.jsx)(d.f,{onClick:function(){return p()},color:"success",children:"Simpan"})})})]})]})})},A=function(e){var t=Object(l.useState)(),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(l.useState)({}),o=Object(i.a)(j,2),b=o[0],u=o[1],h=Object(l.useState)(!1),O=Object(i.a)(h,2),m=O[0],f=O[1],x=Object(l.useState)([]),p=Object(i.a)(x,2),v=p[0],g=p[1],y=Object(l.useState)(!0),w=Object(i.a)(y,2),C=w[0],_=w[1],S=["Dit. KPLP","Dit. KAPEL","BKI","Kemenlu"],P=function(e){u(Object(E.a)(Object(E.a)({},b),{},Object(I.a)({},e.target.name,e.target.value)))},K=function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_deficiency").insert([{id_detensi:e.datadetensi.id_detensi,data:b}]);case 2:n=t.sent,console.log(b),n.error?alert(n.error):(_(!C),f(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_dokumen").select("url_dokumen").eq("id_detensi",e.datadetensi.id_detensi).eq("kd_dokumen","formb");case 2:n=t.sent,c=n.data,n.error,a(c[0].url_dokumen);case 6:case"end":return t.stop()}}),t)}))),[]),Object(l.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_deficiency").select("data").eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,c=n.data,n.error,a=c.map((function(e){return Object(E.a)(Object(E.a)({},e.data),{},Object(I.a)({},"responsiblero",S[e.data.responsiblero-1]))})),g(a),console.log(a);case 8:case"end":return t.stop()}}),t)}))),[C]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(d.db,{show:m,onClose:function(){return f(!1)},children:[Object(N.jsx)(d.gb,{children:Object(N.jsx)("h5",{children:"Tambah Deficiency"})}),Object(N.jsxs)(d.eb,{children:[Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"3",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Code"}),Object(N.jsx)(d.P,{name:"codedeficiency",value:b.codedeficiency,onChange:function(e){return P(e)}})]})}),Object(N.jsx)(d.u,{md:"9",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Nature of Deficiency"}),Object(N.jsx)(d.Ib,{name:"natureofdeficiency",value:b.natureofdeficiency,onChange:function(e){return P(e)}})]})})]}),Object(N.jsxs)(d.tb,{children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Convention Reference"}),Object(N.jsx)(d.P,{name:"conventionreference",value:b.conventionreference,onChange:function(e){return P(e)}})]})}),Object(N.jsx)(d.u,{md:"6",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Action Taken"}),Object(N.jsxs)(d.ub,{name:"actiontaken",value:b.actiontaken,onChange:function(e){return P(e)},children:[Object(N.jsx)("option",{value:"1",children:"-"}),Object(N.jsx)("option",{value:"10",children:"10"}),Object(N.jsx)("option",{value:"15",children:"15"}),Object(N.jsx)("option",{value:"16",children:"16"}),Object(N.jsx)("option",{value:"17",children:"17"})]})]})})]}),Object(N.jsx)(d.tb,{children:Object(N.jsx)(d.u,{md:"12",children:Object(N.jsxs)(d.K,{children:[Object(N.jsx)(d.Z,{children:"Responsible RO"}),Object(N.jsxs)(d.ub,{name:"responsiblero",value:b.responsiblero,onChange:function(e){return P(e)},children:[Object(N.jsx)("option",{value:"0",children:"-"}),Object(N.jsx)("option",{value:"1",children:"Dit. KPLP"}),Object(N.jsx)("option",{value:"2",children:"Dit. KAPEL"}),Object(N.jsx)("option",{value:"3",children:"BKI"}),Object(N.jsx)("option",{value:"4",children:"Kemenlu"})]})]})})})]}),Object(N.jsx)(d.fb,{children:Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{onClick:function(){return K()},color:"success",children:"Simpan"})}),Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{color:"danger",children:"Batal"})})]})})]}),Object(N.jsxs)(d.tb,{style:{minHeight:"90vh"},children:[Object(N.jsx)(d.u,{md:"6",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)("embed",{src:c,type:"application/pdf",width:"100%",height:"100%"})})}),Object(N.jsxs)(d.u,{md:"6",children:[Object(N.jsx)("div",{className:"d-flex justify-content-end mb-2",children:Object(N.jsx)(d.f,{onClick:function(){return f(!0)},className:"btn btn-sm btn-info",children:"Tambah"})}),Object(N.jsx)(d.y,{addTableClasses:"josss mantaps",items:v,fields:[{key:"no",label:"No"},{key:"codedeficiency",label:"Code"},{key:"natureofdeficiency",label:"Nature of Deficiency"},{key:"conventionreference",label:"Convention Reference"},{key:"actiontaken",label:"Action Taken"},{key:"responsiblero",label:"Responsible RO"},{key:"action",label:"Action"}],scopedSlots:{no:function(e,t){return Object(N.jsx)("td",{children:t+1})},action:function(e,t){return Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{className:"btn btn-info btn-sm",children:"Edit"})}),Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsx)(d.f,{className:"btn btn-danger btn-sm",children:"Hapus"})})]})})}}})]})]})]})};t.default=function(){var e=Object(y.b)(),t=Object(w.g)(),n=Object(l.useState)(1),c=Object(i.a)(n,2),a=c[0],o=c[1],b=Object(l.useState)([]),u=Object(i.a)(b,2),h=u[0],O=u[1],f=(Object(y.c)((function(e){return e.simView})),Object(y.c)((function(e){return e.forma}))),x=function(e){o(e),console.log(e)},p=Object(y.c)((function(e){return e.trigger}));Object(l.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MANTAB"),e.next=3,k.a.from("td_dokumen").select("*").eq("id_detensi",v.id_detensi);case 3:t=e.sent,n=t.data,(c=t.error)?console.log(c):O(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p]),Object(l.useEffect)((function(){(function(){var t=Object(s.a)(r.a.mark((function t(){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.from("td_detensi").select("data").eq("id_detensi",v.id_detensi);case 2:n=t.sent,c=n.data,n.error,e({type:"set",forma:c[0].data});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var v=Object(y.c)((function(e){return e.datadetensi}));return Object(N.jsx)(d.j,{children:Object(N.jsxs)(d.k,{children:[2==v.kd_status?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"d-flex flex-row justify-content-end",children:[Object(N.jsx)("div",{className:"mr-2",children:Object(N.jsxs)(d.f,{className:"btn btn-sm btn-info",children:[Object(N.jsx)("i",{class:"fas fa-arrow-circle-left"})," Kembali"]})}),Object(N.jsx)("div",{children:Object(N.jsxs)(d.f,{onClick:function(){return function(){var e=function(){var e=Object(s.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.from("td_detensi").update({data:f,kd_status:3}).eq("id_detensi",v.id_detensi);case 2:(t=e.sent).data,(c=t.error)?alert(c):n();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(s.a)(r.a.mark((function e(){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.from("th_detensi").insert([{id_detensi:v.id_detensi,kd_status:3}]);case 2:(n=e.sent).data,(c=n.error)?alert(c):(alert("Sukses"),t.push("/hdpsc"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()},className:"btn btn-sm btn-warning",children:["Kirim ",Object(N.jsx)("i",{class:"fas fa-paper-plane"})]})})]})}):Object(N.jsx)(N.Fragment,{}),Object(N.jsx)("div",{className:"d-flex flex-row justify-content-center mb-4",children:1==v.kd_status?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{onClick:function(){return x(1)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(N.jsx)(j.a,{role:"button",className:1==a?"on":"off"}),Object(N.jsx)("div",{className:"mt-1",children:Object(N.jsx)("b",{children:Object(N.jsx)("h5",{children:"Initial Info"})})})]})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{onClick:function(){return x(1)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(N.jsx)(j.a,{role:"button",className:1==a?"on":"off"}),Object(N.jsx)("div",{className:"mt-1",children:Object(N.jsx)("b",{children:Object(N.jsx)("h5",{children:"Initial Info"})})})]}),Object(N.jsxs)("div",{onClick:function(){return x(2)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(N.jsx)(m,{role:"button",className:2==a?"on":"off"}),Object(N.jsx)("div",{className:"mt-1",children:Object(N.jsx)("b",{children:Object(N.jsx)("h5",{children:"Form A"})})})]}),Object(N.jsxs)("div",{onClick:function(){return x(3)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(N.jsx)(g,{role:"button",className:3==a?"on":"off"}),Object(N.jsx)("div",{className:"mt-1",children:Object(N.jsx)("b",{children:Object(N.jsx)("h5",{children:"Form B"})})})]})]})}),1==a?Object(N.jsx)(C,{datadokumen:h,datadetensi:v}):2==a?Object(N.jsx)(D,{datadokumen:h,datadetensi:v}):Object(N.jsx)(A,{datadokumen:h,datadetensi:v})]})})}}}]);
//# sourceMappingURL=8.b358ec0e.chunk.js.map